# A5: Relational schema, validation and schema refinement

Our project, Answerly, is a web application for collaborative Questions and Answers.

This artifact contains the Relational Schema obtained by mapping from the Conceptual Data Model. The Relational Schema includes the relation schema, attributes, domains, primary keys, foreign keys and other integrity rules: UNIQUE, DEFAULT, NOT NULL, CHECK...

## 1. Relational Schema

|Relation Reference     |   Relation Compact Notation|
|-----------------------|----------------------------|
|R01                    |Question(__questionID__, userID->User NN, title NN, description NN, nrLikes NN, nrDislikes NN, questionDate NN DF Today)|
|R02                    |Answer(__answerID__, userID->User NN, questionID->Question NN, answerDate NN DF Today, content NN, score NN DF Zero)|
|R03                    |Comment(__commentID__, userID->User NN, questionID->Question, answerID->Answer CK questionID = NN OR answerID = NN, content NN, commentDate NN DF Today)|
|R04                    |Report(__reportID__, userID->User, questionID->Question, answerID->Answer, commentID->Comment CK userID = NN OR questionID = NN OR answerID = NN OR commentID = NN)| 
|R05                    |ReportStatus(__statusID__, reportID->Report. state NN DF U CK state IN States, comment, responsibleUser NN)|
|R06                    |MarkedAnswer(questionID->Question, answerID->Answer)|
|R07                    |About(__questionID->Question__, __labelID->Label__)|

* NN means NOT NULL
* DF means DEFAULT
* CK means CHECK

## 2. Domains

Specification of additional domains:

|Domain Name        |Domain Specification                               |
|-------------------|---------------------------------------------------|
|Today              |DATE DEFAULT CURRENT DATE                          |
|Zero               |0                                                  |
|U                  |unresolved                                         |
|STATES             |ENUM ('unresolved', 'reviewing', 'resolved')       |


## 3. Functional Dependencies and schema validation

## 4. SQL Code

## Revision history

------

GROUP2064, 23/03/2020

- [Editor] Antonio Pedro Reis Ribeiro Sousa Dantas, up201703878@fe.up.pt
- Eduardo João Santana Macedo, up201703658@fe.up.pt
- Nuno Miguel Teixeira Cardoso, up201706162@fe.up.pt
- Paulo Roberto Dias Mourato, up201705616@fe.up.pt