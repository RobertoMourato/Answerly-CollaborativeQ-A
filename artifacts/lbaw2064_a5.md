# A5: Relational schema, validation and schema refinement

Our project, Answerly, is a web application for collaborative Questions and Answers.

This artifact contains the Relational Schema obtained by mapping from the Conceptual Data Model. The Relational Schema includes the relation schema, attributes, domains, primary keys, foreign keys and other integrity rules: UNIQUE, DEFAULT, NOT NULL, CHECK...

## 1. Relational Schema

|Relation Reference     |   Relation Compact Notation|
|-----------------------|----------------------------|
|R01                |    User (__userID__, firstName *NN*, lastName *NN*, email *NN*, description, username *UK* *NN*, password *NN*, score *DF 0*)                       |
|R02                |    Label (__labelID__, name *NN*)                       |
|R03                |    Notification (__notificationID__, content *NN*, date *DF Today*, viewed *DF False*, userID → user *NN*)                       |
|R04                |    UserManagement (__managementID__, state *NN*, status *NN*, userID → User *NN*)                       |
|R05                |    Moderator (__userID__ → User)                       |
|R06                |    Administrator (__userID__ → Moderator)                       |
|R07                |    Vote (__voteID__, hasVoted *DF False*, like, dislike, userID → User *NN*, questionID → Question, answerID → Answer *CK questionID = NN OR answerID = NN*)                       |
|R08                    |Question (__questionID__, userID->User *NN*, title *NN*, description *NN*, nrLikes *NN*, nrDislikes *NN*, questionDate *NN DF Today*)|
|R09                    |Answer (__answerID__, userID->User *NN*, questionID->Question *NN*, answerDate *NN DF Today*, content *NN*, score *NN DF 0*)|
|R10                    |Comment (__commentID__, userID->User *NN*, questionID->Question, answerID->Answer *CK questionID = NN OR answerID = NN*, content *NN*, commentDate *NN DF Today*)|
|R11                    |Report (__reportID__, userID->User, questionID->Question, answerID->Answer, commentID->Comment *CK userID = NN OR questionID = NN OR answerID = NN OR commentID = NN*)| 
|R12                    |ReportStatus (__statusID__, reportID->Report. state *NN DF unresolved CK state IN States*, comment, responsibleUser *NN*)|
|R13                    |MarkedAnswer (questionID->Question, answerID->Answer)|
|R14                |    Following (__userID__ → User, __labelID__ → Label))                       |
|R15                    |About (__questionID__ → Question, __labelID__ → Label)|

* UK means UNIQUE KEY
* NN means NOT NULL
* DF means DEFAULT
* CK means CHECK

## 2. Domains

Specification of additional domains:

|Domain Name        |Domain Specification                               |
|-------------------|---------------------------------------------------|
|Today              |DATE DEFAULT CURRENT DATE                          |
|States             |ENUM ('unresolved', 'reviewing', 'resolved')       |


## 3. Functional Dependencies and schema validation

## 4. SQL Code

## Revision history

1. First submission (23/03/2020).

------

GROUP2064, 23/03/2020

- [Editor] Antonio Pedro Reis Ribeiro Sousa Dantas, up201703878@fe.up.pt
- Eduardo João Santana Macedo, up201703658@fe.up.pt
- Nuno Miguel Teixeira Cardoso, up201706162@fe.up.pt
- Paulo Roberto Dias Mourato, up201705616@fe.up.pt
